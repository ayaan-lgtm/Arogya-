<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Arogya Mitra - Health Chatbot</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #e0f7f9;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      height: 100vh;
    }
    .container {
      flex: 1;
      display: flex;
      flex-direction: column;
      padding: 15px;
      max-width: 600px;
      margin: auto;
    }
    #chatbox {
      flex: 1;
      overflow-y: auto;
      background: white;
      border-radius: 10px;
      padding: 15px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    .message {
      margin: 8px 0;
      padding: 10px;
      border-radius: 8px;
      max-width: 90%;
    }
    .user {
      background: #d1f1ff;
      align-self: flex-end;
    }
    .bot {
      background: #b2ebf2;
      align-self: flex-start;
    }
    #controls {
      display: flex;
      margin-top: 10px;
      gap: 5px;
    }
    #userInput {
      flex: 1;
      padding: 10px;
      border-radius: 5px;
      border: 1px solid #aaa;
      font-size: 16px;
    }
    button {
      padding: 10px 15px;
      border: none;
      background: #00bcd4;
      color: white;
      border-radius: 5px;
      cursor: pointer;
    }
    #bmiCalculator {
      margin-top: 15px;
      background: #f0f0f0;
      padding: 10px;
      border-radius: 10px;
    }
    #doctor {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 80px;
      height: 80px;
      background: url('https://cdn-icons-png.flaticon.com/512/3774/3774299.png') no-repeat center/contain;
      animation: float 3s ease-in-out infinite;
    }
    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }
  </style>
</head>
<body>
<div class="container">
  <h2>Arogya Mitra ü§ñ</h2>
  <div id="chatbox"></div>
  <div id="controls">
    <input type="text" id="userInput" placeholder="Ask your health question..." />
    <button id="sendBtn">Send</button>
    <button onclick="startListening()">üé§</button>
  </div>
  <div id="bmiCalculator">
    <h4>üßÆ BMI Calculator</h4>
    <input type="number" id="weight" placeholder="Weight (kg)" />
    <input type="number" id="height" placeholder="Height (cm)" />
    <button onclick="calculateBMI()">Calculate BMI</button>
  </div>
</div>
<div id="doctor"></div>
<script>
  const qaPairs = {
    "what is covid": "COVID-19 is a respiratory illness caused by the coronavirus.",
    "‡§ï‡•ã‡§µ‡§ø‡§° ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à": "‡§ï‡•ã‡§µ‡§ø‡§°-19 ‡§è‡§ï ‡§∂‡•ç‡§µ‡§∏‡§® ‡§∞‡•ã‡§ó ‡§π‡•à ‡§ú‡•ã ‡§ï‡•ã‡§∞‡•ã‡§®‡§æ ‡§µ‡§æ‡§Ø‡§∞‡§∏ ‡§∏‡•á ‡§π‡•ã‡§§‡§æ ‡§π‡•à‡•§",
    "symptoms of covid": "Common symptoms include fever, cough, fatigue, and loss of taste or smell.",
    "‡§ï‡•ã‡§µ‡§ø‡§° ‡§ï‡•á ‡§≤‡§ï‡•ç‡§∑‡§£": "‡§¨‡•Å‡§ñ‡§æ‡§∞, ‡§ñ‡§æ‡§Ç‡§∏‡•Ä, ‡§•‡§ï‡§æ‡§® ‡§î‡§∞ ‡§∏‡•ç‡§µ‡§æ‡§¶ ‡§Ø‡§æ ‡§ó‡§Ç‡§ß ‡§ï‡§æ ‡§® ‡§Ü‡§®‡§æ ‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§≤‡§ï‡•ç‡§∑‡§£ ‡§π‡•à‡§Ç‡•§",
    "how to reduce fever": "Take paracetamol, stay hydrated, and rest.",
    "‡§¨‡•Å‡§ñ‡§æ‡§∞ ‡§ï‡•à‡§∏‡•á ‡§ï‡§Æ ‡§ï‡§∞‡•á‡§Ç": "‡§™‡•à‡§∞‡§æ‡§∏‡§ø‡§ü‡§æ‡§Æ‡•ã‡§≤ ‡§≤‡•á‡§Ç, ‡§™‡§æ‡§®‡•Ä ‡§™‡§ø‡§è‡§Ç ‡§î‡§∞ ‡§Ü‡§∞‡§æ‡§Æ ‡§ï‡§∞‡•á‡§Ç‡•§",
    "what is malaria": "Malaria is a mosquito-borne disease caused by a parasite.",
    "‡§Æ‡§≤‡•á‡§∞‡§ø‡§Ø‡§æ ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à": "‡§Æ‡§≤‡•á‡§∞‡§ø‡§Ø‡§æ ‡§Æ‡§ö‡•ç‡§õ‡§∞ ‡§∏‡•á ‡§´‡•à‡§≤‡§®‡•á ‡§µ‡§æ‡§≤‡•Ä ‡§è‡§ï ‡§™‡§∞‡§ú‡•Ä‡§µ‡•Ä ‡§ú‡§®‡§ø‡§§ ‡§¨‡•Ä‡§Æ‡§æ‡§∞‡•Ä ‡§π‡•à‡•§",
    "home remedy for cough": "Honey with warm water and ginger helps relieve cough.",
    "‡§ñ‡§æ‡§Ç‡§∏‡•Ä ‡§ï‡§æ ‡§ò‡§∞‡•á‡§≤‡•Ç ‡§á‡§≤‡§æ‡§ú": "‡§∂‡§π‡§¶ ‡§î‡§∞ ‡§Ö‡§¶‡§∞‡§ï ‡§ó‡§∞‡•ç‡§Æ ‡§™‡§æ‡§®‡•Ä ‡§ï‡•á ‡§∏‡§æ‡§• ‡§ñ‡§æ‡§Ç‡§∏‡•Ä ‡§Æ‡•á‡§Ç ‡§∞‡§æ‡§π‡§§ ‡§¶‡•á‡§§‡§æ ‡§π‡•à‡•§",
    "treatment for typhoid": "Typhoid is treated with antibiotics like ciprofloxacin.",
    "‡§ü‡§æ‡§á‡§´‡§æ‡§á‡§° ‡§ï‡§æ ‡§á‡§≤‡§æ‡§ú": "‡§ü‡§æ‡§á‡§´‡§æ‡§á‡§° ‡§ï‡§æ ‡§á‡§≤‡§æ‡§ú ‡§è‡§Ç‡§ü‡•Ä‡§¨‡§æ‡§Ø‡•ã‡§ü‡§ø‡§ï‡•ç‡§∏ ‡§∏‡•á ‡§ï‡§ø‡§Ø‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à‡•§",
    "tips for healthy skin": "Stay hydrated, eat fruits, and avoid too much sun.",
    "‡§∏‡•ç‡§µ‡§∏‡•ç‡§• ‡§§‡•ç‡§µ‡§ö‡§æ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ü‡§ø‡§™‡•ç‡§∏": "‡§™‡§æ‡§®‡•Ä ‡§™‡§ø‡§è‡§Ç, ‡§´‡§≤ ‡§ñ‡§æ‡§è‡§Ç ‡§î‡§∞ ‡§ß‡•Ç‡§™ ‡§∏‡•á ‡§¨‡§ö‡•á‡§Ç‡•§",
    "what is diabetes": "Diabetes is a chronic condition that affects blood sugar levels.",
    "‡§°‡§æ‡§Ø‡§¨‡§ø‡§ü‡•Ä‡§ú ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à": "‡§°‡§æ‡§Ø‡§¨‡§ø‡§ü‡•Ä‡§ú ‡§è‡§ï ‡§¶‡•Ä‡§∞‡•ç‡§ò‡§ï‡§æ‡§≤‡§ø‡§ï ‡§∏‡•ç‡§•‡§ø‡§§‡§ø ‡§π‡•à ‡§ú‡•ã ‡§∞‡§ï‡•ç‡§§ ‡§∂‡§∞‡•ç‡§ï‡§∞‡§æ ‡§ï‡•ã ‡§™‡•ç‡§∞‡§≠‡§æ‡§µ‡§ø‡§§ ‡§ï‡§∞‡§§‡•Ä ‡§π‡•à‡•§",
    "symptoms of malaria": "Fever, chills, and sweating are common symptoms of malaria.",
    "‡§Æ‡§≤‡•á‡§∞‡§ø‡§Ø‡§æ ‡§ï‡•á ‡§≤‡§ï‡•ç‡§∑‡§£": "‡§¨‡•Å‡§ñ‡§æ‡§∞, ‡§†‡§Ç‡§° ‡§≤‡§ó‡§®‡§æ ‡§î‡§∞ ‡§™‡§∏‡•Ä‡§®‡§æ ‡§Ü‡§®‡§æ ‡§Æ‡§≤‡•á‡§∞‡§ø‡§Ø‡§æ ‡§ï‡•á ‡§Ü‡§Æ ‡§≤‡§ï‡•ç‡§∑‡§£ ‡§π‡•à‡§Ç‡•§",
    "how to prevent dengue": "Use mosquito repellents and eliminate standing water.",
    "‡§°‡•á‡§Ç‡§ó‡•Ç ‡§∏‡•á ‡§ï‡•à‡§∏‡•á ‡§¨‡§ö‡•á‡§Ç": "‡§Æ‡§ö‡•ç‡§õ‡§∞ ‡§≠‡§ó‡§æ‡§®‡•á ‡§µ‡§æ‡§≤‡•á ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡•á‡§Ç ‡§î‡§∞ ‡§∞‡•Å‡§ï‡§æ ‡§π‡•Å‡§Ü ‡§™‡§æ‡§®‡•Ä ‡§π‡§ü‡§æ‡§è‡§Ç‡•§",
    "treatment of dengue": "Stay hydrated, rest, and consult a doctor for monitoring.",
    "‡§°‡•á‡§Ç‡§ó‡•Ç ‡§ï‡§æ ‡§á‡§≤‡§æ‡§ú": "‡§™‡§æ‡§®‡•Ä ‡§™‡§ø‡§è‡§Ç, ‡§Ü‡§∞‡§æ‡§Æ ‡§ï‡§∞‡•á‡§Ç ‡§î‡§∞ ‡§°‡•â‡§ï‡•ç‡§ü‡§∞ ‡§∏‡•á ‡§∏‡§≤‡§æ‡§π ‡§≤‡•á‡§Ç‡•§",
    "what is blood pressure": "Blood pressure is the force of blood against artery walls.",
    "‡§¨‡•ç‡§≤‡§° ‡§™‡•ç‡§∞‡•á‡§∂‡§∞ ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à": "‡§¨‡•ç‡§≤‡§° ‡§™‡•ç‡§∞‡•á‡§∂‡§∞ ‡§ß‡§Æ‡§®‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•Ä ‡§¶‡•Ä‡§µ‡§æ‡§∞‡•ã‡§Ç ‡§™‡§∞ ‡§∞‡§ï‡•ç‡§§ ‡§ï‡§æ ‡§¶‡§¨‡§æ‡§µ ‡§π‡•ã‡§§‡§æ ‡§π‡•à‡•§",
    "how to treat constipation": "Drink water, eat fiber-rich food, and stay active.",
    "‡§ï‡§¨‡•ç‡§ú ‡§ï‡§æ ‡§á‡§≤‡§æ‡§ú": "‡§Ö‡§ß‡§ø‡§ï ‡§™‡§æ‡§®‡•Ä ‡§™‡§ø‡§è‡§Ç, ‡§∞‡•á‡§∂‡§æ ‡§Ø‡•Å‡§ï‡•ç‡§§ ‡§≠‡•ã‡§ú‡§® ‡§≤‡•á‡§Ç ‡§î‡§∞ ‡§∏‡§ï‡•ç‡§∞‡§ø‡§Ø ‡§∞‡§π‡•á‡§Ç‡•§",
    "how to treat cold": "Use steam inhalation and stay warm.",
    "‡§∏‡§∞‡•ç‡§¶‡•Ä ‡§ï‡§æ ‡§á‡§≤‡§æ‡§ú": "‡§≠‡§æ‡§™ ‡§≤‡•á‡§Ç ‡§î‡§∞ ‡§ó‡§∞‡•ç‡§Æ ‡§ï‡§™‡§°‡§º‡•á ‡§™‡§π‡§®‡•á‡§Ç‡•§",
    "causes of headache": "Stress, dehydration, and eye strain can cause headaches.",
    "‡§∏‡§ø‡§∞‡§¶‡§∞‡•ç‡§¶ ‡§ï‡•á ‡§ï‡§æ‡§∞‡§£": "‡§§‡§®‡§æ‡§µ, ‡§™‡§æ‡§®‡•Ä ‡§ï‡•Ä ‡§ï‡§Æ‡•Ä ‡§î‡§∞ ‡§Ü‡§Ç‡§ñ‡•ã‡§Ç ‡§ï‡§æ ‡§§‡§®‡§æ‡§µ ‡§∏‡§ø‡§∞‡§¶‡§∞‡•ç‡§¶ ‡§ï‡•á ‡§ï‡§æ‡§∞‡§£ ‡§π‡•ã ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§",
    "what is anemia": "Anemia is a condition where there is a lack of red blood cells.",
    "‡§è‡§®‡•Ä‡§Æ‡§ø‡§Ø‡§æ ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à": "‡§è‡§®‡•Ä‡§Æ‡§ø‡§Ø‡§æ ‡§è‡§ï ‡§∏‡•ç‡§•‡§ø‡§§‡§ø ‡§π‡•à ‡§ú‡§ø‡§∏‡§Æ‡•á‡§Ç ‡§∂‡§∞‡•Ä‡§∞ ‡§Æ‡•á‡§Ç ‡§≤‡§æ‡§≤ ‡§∞‡§ï‡•ç‡§§ ‡§ï‡•ã‡§∂‡§ø‡§ï‡§æ‡§ì‡§Ç ‡§ï‡•Ä ‡§ï‡§Æ‡•Ä ‡§π‡•ã‡§§‡•Ä ‡§π‡•à‡•§",
    "how to improve immunity": "Eat citrus fruits, exercise regularly, and sleep well.",
    "‡§á‡§Æ‡•ç‡§Ø‡•Å‡§®‡§ø‡§ü‡•Ä ‡§ï‡•à‡§∏‡•á ‡§¨‡§¢‡§º‡§æ‡§è‡§Ç": "‡§®‡•Ä‡§Ç‡§¨‡•Ç ‡§µ‡§æ‡§≤‡•á ‡§´‡§≤ ‡§ñ‡§æ‡§è‡§Ç, ‡§µ‡•ç‡§Ø‡§æ‡§Ø‡§æ‡§Æ ‡§ï‡§∞‡•á‡§Ç ‡§î‡§∞ ‡§Ö‡§ö‡•ç‡§õ‡•Ä ‡§®‡•Ä‡§Ç‡§¶ ‡§≤‡•á‡§Ç‡•§",
    "benefits of yoga": "Yoga improves flexibility, strength, and mental health.",
    "‡§Ø‡•ã‡§ó ‡§ï‡•á ‡§´‡§æ‡§Ø‡§¶‡•á": "‡§Ø‡•ã‡§ó ‡§≤‡§ö‡•Ä‡§≤‡§æ‡§™‡§®, ‡§§‡§æ‡§ï‡§§ ‡§î‡§∞ ‡§Æ‡§æ‡§®‡§∏‡§ø‡§ï ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø ‡§ï‡•ã ‡§¨‡•á‡§π‡§§‡§∞ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à‡•§",
    "what is PCOS": "PCOS is a hormonal disorder affecting women of reproductive age.",
    "‡§™‡•Ä‡§∏‡•Ä‡§ì‡§è‡§∏ ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à": "‡§™‡•Ä‡§∏‡•Ä‡§ì‡§è‡§∏ ‡§è‡§ï ‡§π‡§æ‡§∞‡•ç‡§Æ‡•ã‡§®‡§≤ ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§π‡•à ‡§ú‡•ã ‡§Æ‡§π‡§ø‡§≤‡§æ‡§ì‡§Ç ‡§ï‡•ã ‡§™‡•ç‡§∞‡§≠‡§æ‡§µ‡§ø‡§§ ‡§ï‡§∞‡§§‡•Ä ‡§π‡•à‡•§",
    "how to treat acidity": "Eat on time, avoid spicy food, and take antacids.",
    "‡§è‡§∏‡§ø‡§°‡§ø‡§ü‡•Ä ‡§ï‡§æ ‡§á‡§≤‡§æ‡§ú": "‡§∏‡§Æ‡§Ø ‡§™‡§∞ ‡§ñ‡§æ‡§è‡§Ç, ‡§§‡•Ä‡§ñ‡§æ ‡§ñ‡§æ‡§®‡§æ ‡§ü‡§æ‡§≤‡•á‡§Ç ‡§î‡§∞ ‡§ê‡§Ç‡§ü‡§æ‡§∏‡§ø‡§° ‡§≤‡•á‡§Ç‡•§",
    "how to gain weight": "Eat protein-rich food and increase calorie intake.",
    "‡§µ‡§ú‡§® ‡§ï‡•à‡§∏‡•á ‡§¨‡§¢‡§º‡§æ‡§è‡§Ç": "‡§™‡•ç‡§∞‡•ã‡§ü‡•Ä‡§® ‡§Ø‡•Å‡§ï‡•ç‡§§ ‡§≠‡•ã‡§ú‡§® ‡§ñ‡§æ‡§è‡§Ç ‡§î‡§∞ ‡§ï‡•à‡§≤‡•ã‡§∞‡•Ä ‡§¨‡§¢‡§º‡§æ‡§è‡§Ç‡•§",
    "how to lose weight": "Exercise daily, eat healthy, and avoid junk food.",
    "‡§µ‡§ú‡§® ‡§ï‡•à‡§∏‡•á ‡§ò‡§ü‡§æ‡§è‡§Ç": "‡§®‡§ø‡§Ø‡§Æ‡§ø‡§§ ‡§µ‡•ç‡§Ø‡§æ‡§Ø‡§æ‡§Æ ‡§ï‡§∞‡•á‡§Ç, ‡§∏‡§Ç‡§§‡•Å‡§≤‡§ø‡§§ ‡§Ü‡§π‡§æ‡§∞ ‡§≤‡•á‡§Ç ‡§î‡§∞ ‡§ú‡§Ç‡§ï ‡§´‡•Ç‡§° ‡§∏‡•á ‡§¨‡§ö‡•á‡§Ç"
  };

  function appendMessage(message, sender) {
    const chatbox = document.getElementById("chatbox");
    const msgDiv = document.createElement("div");
    msgDiv.className = `message ${sender}`;
    msgDiv.innerText = message;
    chatbox.appendChild(msgDiv);
    chatbox.scrollTop = chatbox.scrollHeight;
  }

  function speak(text) {
    const utterance = new SpeechSynthesisUtterance(text);
    utterance.lang = /[^\u0000-\u007F]+/.test(text) ? "hi-IN" : "en-IN";
    speechSynthesis.speak(utterance);
  }

  function processInput(input) {
    const query = input.toLowerCase().trim().replace(/[?.!]/g, "");
    let answer = qaPairs[query] || "Sorry, I don't have information on that. Please try asking something else.";
    appendMessage(answer, 'bot');
    speak(answer);
  }

  function handleUserInput() {
    const input = document.getElementById("userInput").value.trim();
    if (!input) return;
    appendMessage(input, 'user');
    processInput(input);
    document.getElementById("userInput").value = '';
  }

  document.getElementById("sendBtn").onclick = handleUserInput;

  function startListening() {
    let recognition;
    if ('webkitSpeechRecognition' in window) {
      recognition = new webkitSpeechRecognition();
    } else if ('SpeechRecognition' in window) {
      recognition = new SpeechRecognition();
    }
    if (recognition) {
      recognition.continuous = false;
      recognition.lang = 'en-IN';
      recognition.interimResults = false;
      recognition.onresult = function(event) {
        const voiceInput = event.results[0][0].transcript;
        document.getElementById("userInput").value = voiceInput;
        handleUserInput();
      };
      recognition.onerror = function(event) {
        console.error("Speech recognition error:", event.error);
      };
      recognition.start();
    }
  }

  function calculateBMI() {
    const weight = parseFloat(document.getElementById("weight").value);
    const height = parseFloat(document.getElementById("height").value) / 100;
    if (!weight || !height) return alert("Please enter both weight and height.");
    const bmi = (weight / (height * height)).toFixed(2);
    const result = bmi < 18.5 ? "Underweight" : bmi < 25 ? "Normal" : bmi < 30 ? "Overweight" : "Obese";
    const message = `Your BMI is ${bmi} (${result})`;
    appendMessage(message, 'bot');
    speak(message);
  }
</script>
</body>
</html>
